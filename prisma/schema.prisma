generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Center_Member {
  id             String   @id @default(cuid()) @map("_id")
  email          String   @unique
  hashedPassword String
  centerId       String
  center         Center   @relation(fields: [centerId], references: [id])
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model Spiritual_leader {
  id             String   @id @default(cuid()) @map("_id")
  email          String   @unique
  hashedPassword String
  centerId       String
  center         Center   @relation(fields: [centerId], references: [id])
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model Convert {
  id             String   @id @default(cuid()) @map("_id")
  email          String   @unique
  hashedPassword String
  centerId       String
  center         Center   @relation(fields: [centerId], references: [id])
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model Admin {
  id             String   @id @default(cuid()) @map("_id")
  email          String   @unique
  hashedPassword String
  centerId       String
  center         Center   @relation(fields: [centerId], references: [id])
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model Secretary {
  id             String   @id @default(cuid()) @map("_id")
  firstName      String
  lastName       String
  email          String   @unique
  hashedPassword String
  centerId       String
  center         Center   @relation(fields: [centerId], references: [id])
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model Center {
  id        String             @id @default(cuid()) @map("_id")
  name      String
  contact   String
  createdAt DateTime           @default(now())
  updatedAt DateTime           @updatedAt
  members   Center_Member[]
  leader    Spiritual_leader[]
  secretary Secretary[]
  converts  Convert[]
  admins    Admin[]
}
